### 写javascript插件的一些基本规则
以下说的规则以avalon插件为例。

- 不要使用全局变量
 - 全局变量引起的错误很难调试，特别是在多个模块相互引用时。(一些同事不已遇到多次了)
 - 任何时候定义变量，如果不是特别原因都应该使用var关键字(模块化的书写方式更不应该使用全局变量)。
 - 为了避免全局变量错误，可以用严格模式(use strict)写插件。

- 不要使用选择器获取DOM节点
 - 一个页面有多个插件实例时，用选择器不能准确获取插件实例对应的dom节点。
 - - 用变量保存模板生成的DOM节点,在该dom节点范围find你要的节点。

- 不要在模板中出现ms-controller明确的VM名称
 - "&lt;div ms-controller="product"&gt;"
 - 原因一与上面一点类似
 - 如果一写要明确指定VM,至少要加上前缀吧，类似'product'的名字影响当前页面的可能性很大

- 为你的css类名加上前缀
 - 为了不与其他组件样式冲突,这是基本规则。

- 保证组件的可读性及高扩展性及性能
 - 将不需要监控的属性申明到skipArray中以降低内存使用。
 - 在网上copy函数时至少要看懂。
 - 应该将与业务相关的方法或属性放在视图模块中，并且命名规范。将对数据处理函数（如字符串、数组处理方法或各种排序方法）放在模型之外，作为公共方法。

